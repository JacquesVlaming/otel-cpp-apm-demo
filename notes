g++ -std=c++17 -shared -fPIC libotel_preload.cpp -o libotel_preload.so   -I$HOME/otel-cpp/install/include   -L$HOME/otel-cpp/install/lib64   -llibopentelemetry_exporter_otlp_grpc   -llibopentelemetry_trace   -lgrpc++ -lgrpc -ldl -lpthread   -Wl,-rpath,$HOME/otel-cpp/install/lib64:$HOME/otel-cpp/install/lib64
g++ -std=c++17 -shared -fPIC libotel_preload.cpp -o libotel_preload.so   -I$HOME/otel-cpp/install/include   -L$HOME/otel-cpp/install/lib64   -llibopentelemetry_exporter_otlp_grpc   -llibopentelemetry_trace   -lgrpc++ -lgrpc -ldl -lpthread   -Wl,-rpath,$HOME/otel-cpp/install/lib64:$HOME/otel-cpp/install/lib64



g++ -std=c++17 -shared -fPIC libotel_preload.cpp -o libotel_preload.so \
  -I$HOME/otel-cpp-apm-demo/otel-cpp/install/include \
  -L$HOME/otel-cpp-apm-demo/otel-cpp/install/lib \
  -L$HOME/otel-cpp-apm-demo/otel-cpp/install/lib64 \
  -lopentelemetry_exporter_otlp_grpc \
  -lopentelemetry_trace \
  -lgrpc++ -lgrpc -ldl -lpthread \
  -Wl,-rpath,$HOME/otel-cpp-apm-demo/otel-cpp/install/lib:$HOME/otel-cpp/install/lib64



#include <opentelemetry/trace/tracer_provider.h>



cmake .. \
  -DBUILD_SHARED_LIBS=ON \
  -DWITH_OTLP_GRPC=ON \
  -DOPENTELEMETRY_INSTALL=ON \
  -DWITH_EXAMPLES=OFF \
  -DBUILD_TESTING=OFF && \
cmake --build . --target all && \
cmake --install .